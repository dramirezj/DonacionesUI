$(window).ready(function(){$.ajax({url:"controlador/graphic.controller.php",method:"POST",datatype:"json",success:function(e){var a=$("#areaChart").get(0).getContext("2d"),o=new Chart(a);let l=JSON.parse(e),t=[],r=[],s=[];for(i=0;i<l.newCalls.length;i++)null!==l.newCalls[i].mes?t.push(l.newCalls[i].cantidad):t.push(0);for(i=0;i<l.answeredCalls.length;i++)null!==l.answeredCalls[i].mes?r.push(l.answeredCalls[i].cantidad):r.push(0);for(i=0;i<l.notAnsweredCalls.length;i++)null!==l.notAnsweredCalls[i].mes?s.push(l.notAnsweredCalls[i].cantidad):s.push(0);var n={labels:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],datasets:[{label:"Llamadas nuevas",data:t,fillColor:"rgba(0,192,239,0.8)",strokeColor:"rgba(0,192,239,0.8)",pointColor:"rgba(0,192,239,0.8)",pointStrokeColor:"#00C0EF",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(0,192,239,0.8)"},{label:"Llamadas Atendidas",data:r,fillColor:"rgba(0,168,90,0.8)",strokeColor:"rgba(0,168,90,0.8)",pointStrokeColor:"rgba(0,168,90,0.8)",pointStrokeColor:"#00A85A",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(0,168,90,0.8)"},{label:"Llamadas No Contestadas",data:s,fillColor:"rgba(243,156,18,0.8)",strokeColor:"rgba(243,156,18,0.8)",pointColor:"rgba(243,156,18,0.8)",pointStrokeColor:"#F39C12",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(243,156,18,0.8)"}]};o.Line(n,{showScale:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,bezierCurve:!0,bezierCurveTension:.3,pointDot:!0,pointDotRadius:2,pointDotStrokeWidth:2,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].lineColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>',maintainAspectRatio:!0,responsive:!0})}})});